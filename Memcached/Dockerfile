FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZWxhc3RpY2FjaGUtYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvZWxhc3Rp\
Y2FjaGUtYXBiCmRlc2NyaXB0aW9uOiAnRWxhc3RpY2FjaGUnCnRhZ3M6CiAgLSBhbWF6b24KICAt\
IGVsYXN0aWNhY2hlCiAgLSBtZW1jYWNoZWQKYmluZGFibGU6IHRydWUKYXN5bmM6IG9wdGlvbmFs\
CnBsYW5zOgogIC0gbmFtZTogZGVmYXVsdAogICAgZGVzY3JpcHRpb246ICdQcm9kdWN0aW9uIE1l\
bWNhY2hlZCBDbHVzdGVyIG9uIEFXUyBFbGFzdGljYWNoZScKICAgIGZyZWU6IGZhbHNlCiAgICBw\
YXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJl\
ZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRl\
c2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3Vk\
Rm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBv\
bmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJk\
ZXYtMDUtMjAxOCIsICJwcm9kdWN0aW9uLTA4LTIwMTciKScKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAg\
ICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgQWNjZXNz\
IEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwog\
ICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
ICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQg\
S2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
QVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFJlZ2lvbiB0byBjcmVhdGUgTWVt\
Y2FjaGVkIENsdXN0ZXIgaW4uJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6\
ICJ1cy13ZXN0LTIiCiAgICAgIC0gbmFtZTogQXBwbGljYXRpb25OYW1lCiAgICAgICAgcmVxdWly\
ZWQ6IHRydWUKICAgICAgICB0aXRsZTogQXBwbGljYXRpb24gTmFtZQogICAgICAgIGRlc2NyaXB0\
aW9uOiAnbWVtY2FjaGVkIEFwcGxpY2F0aW9uIG5hbWUnCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgICAgZGVmYXVsdDogIkFwcGxpY2F0aW9uIDEiCiAgICAgIC0gbmFtZTogQ2x1c3RlclR5cGUK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBDbHVzdGVyIFR5cGUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ1RoZSB0eXBlIG9mIGNsdXN0ZXIuIFNwZWNpZnkgc2luZ2xlLW5vZGUg\
b3IgbXVsdGktbm9kZSAoZGVmYXVsdCkuICBOdW1iZXIgb2Ygbm9kZXMgbXVzdCBiZSBncmVhdGVy\
IHRoYW4gMSBmb3IgbXVsdGktbm9kZScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZh\
dWx0OiAibXVsdGktbm9kZSIKICAgICAgLSBuYW1lOiBOdW1DYWNoZU5vZGVzCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTnVtYmVyIG9mIENsdXN0ZXIgTm9kZXMKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgY2FjaGUgbm9kZXMgaW4gdGhlIGNsdXN0ZXIu\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIzIgogICAgICAtIG5hbWU6\
IEVuZ2luZVZlcnNpb24KICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFbmdp\
bmUgVmVyc2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnRmFtaWx5IHRvIGJlIHVzZWQgd2l0aCBj\
bHVzdGVyIG9yIHBhcmFtZXRlciBncm91cCcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBk\
ZWZhdWx0OiAiMS40LjM0IgogICAgICAtIG5hbWU6IENhY2hlTm9kZVR5cGUKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBDYWNoZSBOb2RlIFR5cGUKICAgICAgICBkZXNjcmlw\
dGlvbjogJ1RoZSBjb21wdXRlIGFuZCBtZW1vcnkgY2FwYWNpdHkgb2Ygbm9kZXMgaW4gYSBjYWNo\
ZSBjbHVzdGVyLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiY2FjaGUu\
bTQubGFyZ2UiCiAgICAgIC0gbmFtZTogVnBjSWQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBWUEMgSUQKICAgICAgICBkZXNjcmlwdGlvbjogJ1ZQQyBJRCAoZS5nLiAidnBj\
LTZjOWYxYTBiIiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogUG9ydE51bWJl\
cgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFBvcnQgTnVtYmVyCiAgICAg\
ICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCBudW1iZXIgZm9yIHRoZSBkYXRhYmFzZSBzZXJ2ZXIg\
dG8gbGlzdGVuIG9uLiAodmFsdWVzIGluIHJhbmdlIDExNTAtNjU1MzUpJwogICAgICAgIHR5cGU6\
IGludAogICAgICAgIGRlZmF1bHQ6IDYzNzkKICAgICAgLSBuYW1lOiBQcmVmZXJyZWRNYWludGVu\
YW5jZVdpbmRvd0RheQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IERheSBv\
ZiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93CiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUg\
ZGF5IG9mIHRoZSB3ZWVrIHdoaWNoIEVsYXN0aWNhY2hlIG1haW50ZW5hbmNlIHdpbGwgYmUgcGVy\
Zm9ybWVkIChlLmcuICJNb24iKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0\
OiAiTW9uIgogICAgICAtIG5hbWU6IFByZWZlcnJlZE1haW50ZW5hbmNlV2luZG93U3RhcnRUaW1l\
CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUHJlZmVycmVkIE1haW50ZW5h\
bmNlIFdpbmRvdyBTdGFydCBUaW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgd2Vla2x5IHN0\
YXJ0IHRpbWUgaW4gVVRDIGZvciB0aGUgRWxhc3RpY2FjaGUgbWFpbnRlbmFuY2Ugd2luZG93LCBt\
dXN0IGJlIGxlc3MgdGhhbiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IEVuZCBUaW1lIGFu\
ZCBjYW5ub3Qgb3ZlcmxhcCB3aXRoIFByZWZlcnJlZCBCYWNrdXAgV2luZG93IChlLmcuICIwNDow\
MCIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIwNDowMCIKICAgICAg\
LSBuYW1lOiBQcmVmZXJyZWRNYWludGVuYW5jZVdpbmRvd0VuZFRpbWUKICAgICAgICByZXF1aXJl\
ZDogdHJ1ZQogICAgICAgIHRpdGxlOiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IEVuZCBU\
aW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgd2Vla2x5IGVuZCB0aW1lIGluIFVUQyBmb3Ig\
dGhlIEVsYXN0aWNhY2hlIG1haW50ZW5hbmNlIHdpbmRvdywgbXVzdCBiZSBsZXNzIHRoYW4gUHJl\
ZmVycmVkIE1haW50ZW5hbmNlIFdpbmRvdyBFbmQgVGltZSBhbmQgY2Fubm90IG92ZXJsYXAgd2l0\
aCBQcmVmZXJyZWQgQmFja3VwIFdpbmRvdyAoZS5nLiAiMDQ6MDAiKScKICAgICAgICB0eXBlOiBz\
dHJpbmcKICAgICAgICBkZWZhdWx0OiAiMDY6MDAiCiAgICAgIC0gbmFtZTogQVpNb2RlCiAgICAg\
ICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVogTW9kZQogICAgICAgIGRlc2NyaXB0\
aW9uOiAiU3BlY2lmaWVzIHdoZXRoZXIgdGhlIG5vZGVzIGluIHRoaXMgTWVtY2FjaGVkIGNsdXN0\
ZXIgYXJlIGNyZWF0ZWQgaW4gYSBzaW5nbGUgQXZhaWxhYmlsaXR5IFpvbmUgb3IgY3JlYXRlZCBh\
Y3Jvc3MgbXVsdGlwbGUgQXZhaWxhYmlsaXR5IFpvbmVzIGluIHRoZSBjbHVzdGVyJ3MgcmVnaW9u\
LiBUaGlzIHBhcmFtZXRlciBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgTWVtY2FjaGVkIGNhY2hlIGNs\
dXN0ZXJzLiBJZiB0aGUgQVpNb2RlIGFuZCBQcmVmZXJyZWRBdmFpbGFiaWxpdHlab25lcyBhcmUg\
bm90IHNwZWNpZmllZCwgRWxhc3RpQ2FjaGUgYXNzdW1lcyBzaW5nbGUtYXogbW9kZS4iCiAgICAg\
ICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogImNyb3NzLWF6IgogICAgICAtIG5hbWU6\
IE51bWJlck9mQXZhaWxhYmlsaXR5Wm9uZXMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAg\
IHRpdGxlOiBOdW1iZXIgb2YgQXZhaWxhYmlsaXR5IFpvbmVzCiAgICAgICAgZGVzY3JpcHRpb246\
ICdRdWFudGl0eSBvZiBzdWJuZXRzIHRvIHVzZSwgaWYgc2VsZWN0aW5nIG1vcmUgdGhhbiAyIHRo\
ZSByZWdpb24gdGhpcyBzdGFjayBpcyBpbiBtdXN0IGhhdmUgYXQgbGVhc3QgdGhhdCBtYW55IEF2\
YWlsYWJpbGl0eSBab25lcycKICAgICAgICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiAzCiAg\
ICAgIC0gbmFtZTogQXZhaWxhYmlsaXR5Wm9uZXMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBBdmFpbGFiaWxpdHkgWm9uZXMKICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbW1h\
IHNlcGFyYXRlZCBsaXN0IG9mIGF2YWlsYWJpbGl0eSB6b25lcyB0byB1c2UsIG11c3QgYmUgdGhl\
IHNhbWUgcXVhbnRpdHkgYXMgc3BlY2lmaWVkIGluIE51bWJlciBvZiBBdmFpbGFiaWxpdHkgWm9u\
ZXMgKGUuZy4gInVzLXdlc3QtMmEsdXMtd2VzdC0yYix1cy13ZXN0LTJjIiknCiAgICAgICAgdHlw\
ZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMmEsdXMtd2VzdC0yYix1cy13ZXN0\
LTJjIgogICAgICAtIG5hbWU6IENpZHJCbG9ja3MKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBDSURSIEJsb2NrcwogICAgICAgIGRlc2NyaXB0aW9uOiAnQ29tbWEgc2VwZXJh\
dGVkIGxpc3Qgb2YgQ0lEUiBibG9ja3MgdG8gcGxhY2UgUkRTIGludG8sIG11c3QgYmUgdGhlIHNh\
bWUgcXVhbnRpdHkgYXMgc3BlY2lmaWVkIGluIE51bWJlciBvZiBBdmFpbGFiaWxpdHkgWm9uZXMg\
KGUuZy4gIjEwLjAuOTYuMC8yMCwxMC4wLjExMi4wLzIwLDEwLjAuMTI4LjAvMjAiKScKICAgICAg\
ICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBBY2Nlc3NDaWRyCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogQWNjZXNzIENJRFIKICAgICAgICBkZXNjcmlwdGlvbjogJ0NJ\
RFIgYmxvY2sgdG8gYWxsb3cgdG8gY29ubmVjdCB0byBkYXRhYmFzZSAoZS5nLiAiMTAuMC4wLjAv\
MTYiKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBBbGxvd1ZlcnNpb25VcGdy\
YWRlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQWxsb3cgIFZlcnNpb24g\
VXBncmFkZQogICAgICAgIGRlc2NyaXB0aW9uOiAnSWYgeW91IHVwZGF0ZSB0aGUgRW5naW5lIFZl\
cnNpb24gcHJvcGVydHkgdG8gYSB2ZXJzaW9uIHRoYXQnJ3MgZGlmZmVyZW50IGZyb20gdGhlIERC\
IGluc3RhbmNlJydzIGN1cnJlbnQgdmVyc2lvbiwgc2V0IHRoaXMgcHJvcGVydHkgdG8gdHJ1ZS4g\
KHZhbHVlczogInRydWUiLCAiZmFsc2UiKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBk\
ZWZhdWx0OiAidHJ1ZSIKCiAgICBtZXRhZGF0YToKICAgICAgICBkaXNwbGF5TmFtZTogIkFtYXpv\
biBFbGFzdGlDYWNoZSBNZW1jYWNoZWQiCiAgICAgICAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9u\
IEVsYXN0aUNhY2hlIGlzIGEgd2ViIHNlcnZpY2UgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIHNldCB1\
cCwgbWFuYWdlLCBhbmQgc2NhbGUgZGlzdHJpYnV0ZWQgaW4tbWVtb3J5IGNhY2hlIGVudmlyb25t\
ZW50cyBpbiB0aGUgY2xvdWQuIEl0IHByb3ZpZGVzIGEgaGlnaCBwZXJmb3JtYW5jZSwgcmVzaXpl\
YWJsZSwgYW5kIGNvc3QtZWZmZWN0aXZlIGluLW1lbW9yeSBjYWNoZSwgd2hpbGUgcmVtb3Zpbmcg\
dGhlIGNvbXBsZXhpdHkgYXNzb2NpYXRlZCB3aXRoIGRlcGxveWluZyBhbmQgbWFuYWdpbmcgYSBk\
aXN0cmlidXRlZCBjYWNoZSBlbnZpcm9ubWVudC4iCiAgICAgICAgaW1hZ2VVcmw6ICJodHRwczov\
L2QwLmF3c3N0YXRpYy5jb20vY2xvdWQtc3RvcmFnZS9EZWNrX0RhdGFiYXNlcy5wbmciCiAgICAg\
ICAgZG9jdW1lbnRhdGlvblVybDogImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vZG9jdW1lbnRhdGlv\
bi9lbGFzdGljYWNoZS8iCiAgICAgICAgY29zdDogJDAuMDAK"



USER apb
